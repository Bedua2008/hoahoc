<!-- 🌟 BẮT ĐẦU PHẦN CODE MỚI -->
<script>
    // ===== THÊM THÍ NGHIỆM MỚI: OXI HÓA - KHỬ =====
    // Bổ sung nút chọn thí nghiệm mới
    const newButton = document.createElement("button");
    newButton.id = "redox-btn";
    newButton.className = "experiment-btn bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors opacity-50";
    newButton.innerHTML = "🔥 Oxi hóa - Khử";
    document.querySelector(".flex.justify-center.gap-4.mb-8").appendChild(newButton);

    // Thêm dữ liệu thí nghiệm mới vào đối tượng experiments (KHÔNG sửa cũ)
    experiments["redox"] = {
        leftTitle: "Chọn Chất khử",
        rightTitle: "Chọn Chất oxi hóa",
        leftIcon: "🔥",
        rightIcon: "💨",
        leftOptions: [
            { value: "Fe2+", label: "<span class='font-bold'>Fe²⁺</span> - Ion sắt (II)", color: "bg-yellow-100" },
            { value: "Cu", label: "<span class='font-bold'>Cu</span> - Đồng kim loại", color: "bg-orange-100" },
            { value: "H2", label: "<span class='font-bold'>H₂</span> - Khí hidro", color: "bg-gray-100" }
        ],
        rightOptions: [
            { value: "KMnO4", label: "<span class='font-bold'>KMnO₄</span> - Kali pemanganat", color: "bg-purple-100" },
            { value: "Cl2", label: "<span class='font-bold'>Cl₂</span> - Khí clo", color: "bg-green-100" },
            { value: "Fe3+", label: "<span class='font-bold'>Fe³⁺</span> - Ion sắt (III)", color: "bg-blue-100" }
        ]
    };

    // Thêm sự kiện click cho nút mới
    document.getElementById("redox-btn").addEventListener("click", () => switchExperiment("redox"));

    // Mở rộng hàm performExperiment (KHÔNG sửa nội dung cũ)
    const oldPerform = performExperiment;
    performExperiment = function () {
        if (currentExperiment === "redox") {
            if (!choice1 || !choice2) return;
            let result = "";
            let equation = "";
            let animation = "";

            if (choice1 === "Fe2+" && choice2 === "KMnO4") {
                result = "💜 Dung dịch tím của KMnO₄ mất màu dần, Fe²⁺ bị oxi hóa thành Fe³⁺.";
                equation = "5Fe²⁺ + MnO₄⁻ + 8H⁺ → 5Fe³⁺ + Mn²⁺ + 4H₂O";
                animation = createRedoxAnimation("🟠", "💜", "🟣", "💧");
            } else if (choice1 === "Cu" && choice2 === "Cl2") {
                result = "🟢 Khí Cl₂ oxi hóa Cu tạo CuCl₂, bề mặt đồng chuyển màu xanh.";
                equation = "Cu + Cl₂ → CuCl₂";
                animation = createRedoxAnimation("🟠", "💚", "🟩", "💨");
            } else if (choice1 === "H2" && choice2 === "Fe3+") {
                result = "🔴 H₂ khử ion Fe³⁺ thành Fe²⁺, khí H₂ bị oxi hóa thành H⁺.";
                equation = "H₂ + 2Fe³⁺ → 2Fe²⁺ + 2H⁺";
                animation = createRedoxAnimation("⚪", "🔵", "🟡", "💧");
            } else {
                result = "❓ Phản ứng không rõ ràng trong điều kiện thường.";
                equation = "Cần điều kiện xúc tác hoặc nhiệt độ cao.";
                animation = "<div class='text-4xl animate-pulse'>🤔</div>";
            }

            document.getElementById("result-content").innerHTML = `
                <div class="mb-3">${result}</div>
                <div class="bg-white p-3 rounded-lg border-l-4 border-red-500">
                    <strong>Phương trình phản ứng:</strong><br>
                    <code class="text-lg font-mono">${equation}</code>
                </div>
            `;
            document.getElementById("animation-area").innerHTML = animation;
            document.getElementById("result-area").classList.remove("hidden");
            document.getElementById("result-area").classList.add("result-enter");
        } else {
            oldPerform();
        }
    };

    // Hàm tạo hình minh họa phản ứng oxi hóa khử
    function createRedoxAnimation(reducer, oxidizer, product, effect) {
        return `
            <div class="flex items-center justify-center gap-4 text-3xl">
                <span class="animate-bounce">${reducer}</span>
                <span>+</span>
                <span class="animate-bounce">${oxidizer}</span>
                <span class="animate-ping">⚡</span>
                <span>→</span>
                <span class="animate-pulse">${product}</span>
                <span>+</span>
                <span class="animate-pulse">${effect}</span>
            </div>
            <div class="mt-2 text-sm text-gray-600">Phản ứng oxi hóa - khử</div>
        `;
    }
</script>
<!-- 🌟 KẾT THÚC PHẦN CODE MỚI -->
